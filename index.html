<!DOCTYPE html>
<html>
    <head>
        <title>Barrage Slacker</title>
        <meta charset="UTF-8">
        <meta name="description" content="Slackbot powered by Rust">
        <meta name="author" content="Barrage Forge Team">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <body>
        <h1>HELLO WORDL</h1>
        <h2>Chat with me</h2>

        <form action="/test-chat" id="chat-test">
            <input type="text" name="message" id="text-input">
            <input type="submit">
        </form>
        <script defer>
            const form = document.getElementById("chat-test");
            form.addEventListener('submit',(e) => {
                e.preventDefault();
                fetch("http://127.0.0.1:8080/test-chat", {
                    method: "POST",
                    headers: {"Content-Type": "x-www-form-urlencoded"},
                    body: document.getElementById("text-input").value
                }).then(response => {console.log(response); return response.json()}).then(jsonResponse => console.log(jsonResponse))
            })
        </script>
    </body>
</html>